## ADDED Requirements

### Requirement: 놀이 메뉴에 글자 만들기 유형 표시
PlayTypes 화면에서 '글자 만들기' 놀이 유형이 매칭 게임, 분류 놀이와 함께 표시되어야 한다. 선택 시 모드 선택 화면(`/play/letter-builder`)으로 이동한다.

#### Scenario: 글자 만들기 유형 표시 및 이동
- **WHEN** 사용자가 놀이 메뉴(`/play-types`)에 진입한다
- **THEN** 매칭 게임, 분류 놀이와 함께 '글자 만들기' 항목이 표시된다

#### Scenario: 글자 만들기 선택
- **WHEN** 사용자가 '글자 만들기' 항목을 탭한다
- **THEN** 모드 선택 화면(`/play/letter-builder`)으로 이동한다

### Requirement: 모드 선택 화면
글자 만들기 모드 선택 화면에서 '기본 글자 만들기'(방식 1)와 '받침 글자 만들기'(방식 2) 중 하나를 선택할 수 있어야 한다.

#### Scenario: 두 가지 모드 표시
- **WHEN** 사용자가 모드 선택 화면(`/play/letter-builder`)에 진입한다
- **THEN** '기본 글자 만들기'와 '받침 글자 만들기' 두 가지 선택지가 표시된다

#### Scenario: 기본 모드 선택
- **WHEN** 사용자가 '기본 글자 만들기'를 탭한다
- **THEN** 기본 글자 만들기 화면(`/play/letter-builder/basic`)으로 이동한다

#### Scenario: 받침 모드 선택
- **WHEN** 사용자가 '받침 글자 만들기'를 탭한다
- **THEN** 받침 글자 만들기 화면(`/play/letter-builder/advanced`)으로 이동한다

### Requirement: 기본 글자 만들기 레이아웃 (방식 1)
화면 왼쪽에 자음(ㄱ~ㅎ, 14개) 카드, 오른쪽에 모음(ㅏ~ㅣ, 10개) 카드가 배치된다. 가운데 상단에 조합된 글자가 크게 표시된다.

#### Scenario: 초기 화면
- **WHEN** 사용자가 기본 글자 만들기 화면에 진입한다
- **THEN** 왼쪽에 자음 14개, 오른쪽에 모음 10개가 카드 형태로 표시된다
- **THEN** 가운데 글자 표시 영역은 비어있거나 안내 텍스트가 표시된다

#### Scenario: 자음만 선택
- **WHEN** 사용자가 자음 카드 하나를 탭한다
- **THEN** 해당 자음이 선택 상태로 표시된다
- **THEN** 모음이 선택되지 않았으므로 글자는 아직 완성되지 않는다

#### Scenario: 모음만 선택
- **WHEN** 사용자가 모음 카드 하나를 탭한다
- **THEN** 해당 모음이 선택 상태로 표시된다
- **THEN** 자음이 선택되지 않았으므로 글자는 아직 완성되지 않는다

### Requirement: 기본 글자 조합 및 TTS 재생 (방식 1)
자음과 모음이 모두 선택되면 즉시 글자가 조합되어 표시되고, TTS로 읽어준다.

#### Scenario: 자음+모음 조합 완성
- **WHEN** 자음과 모음이 모두 선택된 상태이다
- **THEN** 가운데에 조합된 한글 글자(예: ㄱ+ㅏ → 가)가 크게 표시된다
- **THEN** Web Speech API를 통해 해당 글자의 발음이 자동 재생된다

#### Scenario: 다른 자음으로 변경
- **WHEN** 글자가 완성된 상태에서 다른 자음을 탭한다
- **THEN** 새로운 자음으로 글자가 재조합되어 표시된다
- **THEN** 새 글자의 발음이 자동 재생된다

#### Scenario: 다른 모음으로 변경
- **WHEN** 글자가 완성된 상태에서 다른 모음을 탭한다
- **THEN** 새로운 모음으로 글자가 재조합되어 표시된다
- **THEN** 새 글자의 발음이 자동 재생된다

### Requirement: 받침 글자 만들기 레이아웃 (방식 2)
방식 1과 동일하게 왼쪽에 자음, 오른쪽에 모음이 배치되고, 추가로 받침 선택 영역이 표시된다. 받침은 선택하지 않을 수도 있다(없음 옵션).

#### Scenario: 초기 화면
- **WHEN** 사용자가 받침 글자 만들기 화면에 진입한다
- **THEN** 왼쪽에 자음, 오른쪽에 모음이 카드 형태로 표시된다
- **THEN** 받침 선택 영역에 받침으로 사용 가능한 자음들과 '없음' 옵션이 표시된다

#### Scenario: 받침 없이 글자 완성
- **WHEN** 자음과 모음만 선택하고 받침을 선택하지 않거나 '없음'을 선택한다
- **THEN** 받침 없는 글자(예: 가)가 조합되어 표시되고 TTS로 읽어준다

### Requirement: 받침 글자 조합 및 TTS 재생 (방식 2)
자음+모음+받침이 모두 선택되면 글자가 조합되어 표시되고 TTS로 읽어준다.

#### Scenario: 자음+모음+받침 조합 완성
- **WHEN** 자음, 모음, 받침이 모두 선택된 상태이다
- **THEN** 가운데에 조합된 한글 글자(예: ㄱ+ㅏ+ㄴ → 간)가 크게 표시된다
- **THEN** Web Speech API를 통해 해당 글자의 발음이 자동 재생된다

#### Scenario: 받침 변경
- **WHEN** 글자가 완성된 상태에서 다른 받침을 탭한다
- **THEN** 새로운 받침으로 글자가 재조합되어 표시되고 TTS로 읽어준다

#### Scenario: 받침 제거
- **WHEN** 글자가 완성된 상태에서 '없음'을 탭한다
- **THEN** 받침이 제거된 글자가 표시되고 TTS로 읽어준다

### Requirement: 완성 글자 히스토리
글자가 완성될 때마다 화면 하단에 히스토리로 표시된다. 최대 5개까지 유지되며, 탭하면 해당 글자의 발음이 재생된다.

#### Scenario: 완성 글자 히스토리에 추가
- **WHEN** 새로운 글자가 완성된다
- **THEN** 화면 하단 히스토리 목록에 해당 글자가 추가된다

#### Scenario: 히스토리 최대 5개 유지
- **WHEN** 히스토리에 이미 5개의 글자가 있는 상태에서 새 글자가 완성된다
- **THEN** 가장 오래된 글자가 제거되고 새 글자가 추가되어 총 5개를 유지한다

#### Scenario: 히스토리 글자 탭하여 재생
- **WHEN** 사용자가 히스토리의 글자를 탭한다
- **THEN** 해당 글자의 발음이 TTS로 재생된다

#### Scenario: 동일 글자 중복 방지
- **WHEN** 이미 히스토리에 있는 글자와 동일한 글자가 완성된다
- **THEN** 중복 추가하지 않고 해당 글자를 목록의 맨 앞(최신)으로 이동한다

### Requirement: 한글 유니코드 조합
자모를 한글 유니코드 공식에 따라 정확하게 조합하여야 한다.

#### Scenario: 초성+중성 조합
- **WHEN** 초성 인덱스와 중성 인덱스가 주어진다
- **THEN** `0xAC00 + (초성인덱스 × 21 × 28) + (중성인덱스 × 28)` 공식으로 글자를 생성한다

#### Scenario: 초성+중성+종성 조합
- **WHEN** 초성 인덱스, 중성 인덱스, 종성 인덱스가 주어진다
- **THEN** `0xAC00 + (초성인덱스 × 21 × 28) + (중성인덱스 × 28) + 종성인덱스` 공식으로 글자를 생성한다
